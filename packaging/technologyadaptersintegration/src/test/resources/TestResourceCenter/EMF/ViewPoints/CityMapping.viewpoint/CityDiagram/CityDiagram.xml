<?xml version="1.0" encoding="UTF-8"?>
<DiagramSpecification id="1" name="CityDiagram" modelVersion="1.0">
  <EditionPattern id="2" name="CityGR">
    <DropScheme id="3" target="top" name="dropCityGRAtTopLevel" label="dropCityGRAtTopLevel" skipConfirmationPanel="false" definePopupDefaultSize="false" width="800" height="600">
      <EditionPatternInstanceParameter id="4" editionPatternTypeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#City" name="city" label="city" usePaletteLabelAsDefaultValue="false" isRequired="true">
        <AddressedVirtualModelModelSlot id="5" isRequired="true" isReadOnly="false" metaModelURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping" name="cityMapping" />
      </EditionPatternInstanceParameter>
      <AddShape id="6" container="topLevel" extendParentBoundsToHostThisShape="false" assignation="container">
        <AddressedDiagramModelSlot idref="7" />
      </AddShape>
      <AddShape id="8" extendParentBoundsToHostThisShape="false" assignation="label">
        <AddressedDiagramModelSlot idref="7" />
      </AddShape>
      <AddShape id="9" extendParentBoundsToHostThisShape="false" assignation="icon">
        <AddressedDiagramModelSlot idref="7" />
      </AddShape>
      <DeclarePatternRole id="10" object="parameters.city" assignation="city" />
    </DropScheme>
    <CreationScheme id="11" name="createCityGR" label="createCityGR" skipConfirmationPanel="false" definePopupDefaultSize="false" width="800" height="600">
      <EditionPatternInstanceParameter id="12" editionPatternTypeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#City" name="cityParameter" label="city" usePaletteLabelAsDefaultValue="false" isRequired="false">
        <AddressedVirtualModelModelSlot idref="5" />
      </EditionPatternInstanceParameter>
      <AddShape id="13" container="topLevel" extendParentBoundsToHostThisShape="false" assignation="container">
        <AddressedDiagramModelSlot idref="7" />
      </AddShape>
      <AddShape id="14" container="topLevel" extendParentBoundsToHostThisShape="false" assignation="label">
        <AddressedDiagramModelSlot idref="7" />
      </AddShape>
      <AddShape id="15" extendParentBoundsToHostThisShape="false" assignation="icon">
        <AddressedDiagramModelSlot idref="7" />
      </AddShape>
      <DeclarePatternRole id="16" object="parameters.cityParameter" assignation="city" />
    </CreationScheme>
    <DeletionScheme id="17" name="deletion" label="deletion" skipConfirmationPanel="false" definePopupDefaultSize="false" width="800" height="600">
      <DeleteAction id="18" object="icon" />
      <DeleteAction id="19" object="label" />
      <DeleteAction id="20" object="container" />
    </DeletionScheme>
    <ContainedShapePatternRole id="21" patternRole="container" name="container" exampleLabel="label">
      <ShapeGraphicalRepresentation id="22" className="org.openflexo.vpm.view.widget.EditionPatternPreviewShapeGR" x="0.0" y="0.0" width="443.16831683168317" height="326.9230769230769" minimalWidth="0.0" minimalHeight="0.0" maximalWidth="Infinity" maximalHeight="Infinity" relativeTextX="0.5" relativeTextY="0.5" lineWrap="false" locationConstraints="FREELY_MOVABLE" dimensionConstraints="FREELY_RESIZABLE" adjustMinimalWidthToLabelWidth="true" adjustMinimalHeightToLabelHeight="true" adjustMaximalWidthToLabelWidth="false" adjustMaximalHeightToLabelHeight="false" hasSelectedForeground="false" hasSelectedBackground="false" hasFocusedForeground="false" hasFocusedBackground="false" isFloatingLabel="false" allowToLeaveBounds="false" identifier="object_0" layer="1" hasText="true" isMultilineAllowed="false" continuousTextEditing="true" absoluteTextX="0.0" absoluteTextY="0.0" paragraphAlignment="CENTER" horizontalTextAlignment="CENTER" verticalTextAlignment="MIDDLE" isSelectable="true" isFocusable="true" drawControlPointsWhenFocused="true" drawControlPointsWhenSelected="true" isReadOnly="false" isLabelEditable="true" isVisible="true">
        <ForegroundStyle id="23" noStroke="false" color="0,0,0" lineWidth="1.0" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" dashStyle="PLAIN_STROKE" useTransparency="false" transparencyLevel="0.5" />
        <ColorBackgroundStyle id="24" color="254,247,217" useTransparency="false" transparencyLevel="0.5" />
        <SelectedForegroundStyle id="25" noStroke="false" color="0,0,0" lineWidth="1.0" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" dashStyle="PLAIN_STROKE" useTransparency="false" transparencyLevel="0.5" />
        <SelectedColorBackgroundStyle id="26" color="254,247,217" useTransparency="false" transparencyLevel="0.5" />
        <FocusedForegroundStyle id="27" noStroke="false" color="0,0,0" lineWidth="1.0" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" dashStyle="PLAIN_STROKE" useTransparency="false" transparencyLevel="0.5" />
        <FocusedColorBackgroundStyle id="28" color="254,247,217" useTransparency="false" transparencyLevel="0.5" />
        <Border id="29" top="20" bottom="20" left="20" right="20" />
        <RectangleShape id="30" isRounded="true" arcSize="30.0" />
        <ShadowStyle id="31" drawShadow="false" shadowDarkness="150" shadowDepth="2" shadowBlur="4" />
        <TextStyle id="32" font="Lucida Sans,0,11" color="0,0,0" orientation="0" isBackgroundColored="false" backgroundColor="255,255,255" />
      </ShapeGraphicalRepresentation>
      <AddressedDiagramModelSlot id="7" isRequired="true" isReadOnly="false" name="diagram" />
    </ContainedShapePatternRole>
    <ContainedShapePatternRole id="33" patternRole="icon" name="icon" exampleLabel="label">
      <ShapeGraphicalRepresentation id="34" className="org.openflexo.vpm.view.widget.EditionPatternPreviewShapeGR" x="0.0" y="0.0" width="80.0" height="80.0" minimalWidth="0.0" minimalHeight="0.0" maximalWidth="Infinity" maximalHeight="Infinity" relativeTextX="0.5" relativeTextY="0.5" lineWrap="false" locationConstraints="FREELY_MOVABLE" dimensionConstraints="UNRESIZABLE" adjustMinimalWidthToLabelWidth="true" adjustMinimalHeightToLabelHeight="true" adjustMaximalWidthToLabelWidth="false" adjustMaximalHeightToLabelHeight="false" hasSelectedForeground="false" hasSelectedBackground="false" hasFocusedForeground="false" hasFocusedBackground="false" isFloatingLabel="false" allowToLeaveBounds="false" identifier="object_0_0" layer="2" hasText="true" isMultilineAllowed="false" continuousTextEditing="true" absoluteTextX="0.0" absoluteTextY="0.0" paragraphAlignment="CENTER" horizontalTextAlignment="CENTER" verticalTextAlignment="MIDDLE" isSelectable="true" isFocusable="true" drawControlPointsWhenFocused="true" drawControlPointsWhenSelected="true" isReadOnly="false" isLabelEditable="true" isVisible="true">
        <ForegroundStyle id="35" noStroke="false" color="0,0,0" lineWidth="1.0" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" dashStyle="PLAIN_STROKE" useTransparency="false" transparencyLevel="0.5" />
        <ImageBackgroundStyle id="36" imageFile="City.png" scaleX="0.625" scaleY="0.625" deltaX="0.0" deltaY="0.0" imageBackgroundType="OPAQUE" imageBackgroundColor="255,255,255" fitToShape="true" useTransparency="false" transparencyLevel="0.5" />
        <SelectedForegroundStyle id="37" noStroke="false" color="0,0,0" lineWidth="1.0" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" dashStyle="PLAIN_STROKE" useTransparency="false" transparencyLevel="0.5" />
        <SelectedColorBackgroundStyle id="38" color="254,247,217" useTransparency="false" transparencyLevel="0.5" />
        <FocusedForegroundStyle id="39" noStroke="false" color="0,0,0" lineWidth="1.0" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" dashStyle="PLAIN_STROKE" useTransparency="false" transparencyLevel="0.5" />
        <FocusedColorBackgroundStyle id="40" color="254,247,217" useTransparency="false" transparencyLevel="0.5" />
        <Border id="41" top="20" bottom="20" left="20" right="20" />
        <CircleShape id="42" />
        <ShadowStyle id="43" drawShadow="true" shadowDarkness="150" shadowDepth="2" shadowBlur="4" />
        <TextStyle id="44" font="Lucida Sans,0,11" color="0,0,0" orientation="0" isBackgroundColored="false" backgroundColor="255,255,255" />
      </ShapeGraphicalRepresentation>
      <ParentShapePatternRole idref="21" />
      <AddressedDiagramModelSlot idref="7" />
    </ContainedShapePatternRole>
    <ContainedShapePatternRole id="45" patternRole="label" name="label" exampleLabel="My city">
      <ShapeGraphicalRepresentation id="46" className="org.openflexo.vpm.view.widget.EditionPatternPreviewShapeGR" x="0.0" y="1.0" width="443.16831683168317" height="20.0" minimalWidth="0.0" minimalHeight="0.0" maximalWidth="Infinity" maximalHeight="Infinity" relativeTextX="0.5" relativeTextY="0.5" lineWrap="false" locationConstraints="UNMOVABLE" dimensionConstraints="UNRESIZABLE" adjustMinimalWidthToLabelWidth="true" adjustMinimalHeightToLabelHeight="true" adjustMaximalWidthToLabelWidth="false" adjustMaximalHeightToLabelHeight="false" hasSelectedForeground="false" hasSelectedBackground="false" hasFocusedForeground="false" hasFocusedBackground="false" isFloatingLabel="false" allowToLeaveBounds="false" xConstraints="1" yConstraints="1" widthConstraints="parent.width" heightConstraints="20" identifier="object_0_1" layer="2" hasText="true" isMultilineAllowed="false" continuousTextEditing="true" absoluteTextX="0.0" absoluteTextY="0.0" paragraphAlignment="CENTER" horizontalTextAlignment="CENTER" verticalTextAlignment="MIDDLE" isSelectable="true" isFocusable="true" drawControlPointsWhenFocused="true" drawControlPointsWhenSelected="true" isReadOnly="false" isLabelEditable="true" isVisible="true">
        <ForegroundStyle id="47" noStroke="true" color="0,0,0" lineWidth="1.0" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" dashStyle="PLAIN_STROKE" useTransparency="false" transparencyLevel="0.5" />
        <NoneBackgroundStyle id="48" useTransparency="false" transparencyLevel="0.5" />
        <SelectedForegroundStyle id="49" noStroke="false" color="0,0,0" lineWidth="1.0" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" dashStyle="PLAIN_STROKE" useTransparency="false" transparencyLevel="0.5" />
        <SelectedColorBackgroundStyle id="50" color="254,247,217" useTransparency="false" transparencyLevel="0.5" />
        <FocusedForegroundStyle id="51" noStroke="false" color="0,0,0" lineWidth="1.0" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" dashStyle="PLAIN_STROKE" useTransparency="false" transparencyLevel="0.5" />
        <FocusedColorBackgroundStyle id="52" color="254,247,217" useTransparency="false" transparencyLevel="0.5" />
        <Border id="53" top="20" bottom="20" left="20" right="20" />
        <RectangleShape id="54" isRounded="false" arcSize="30.0" />
        <ShadowStyle id="55" drawShadow="false" shadowDarkness="150" shadowDepth="2" shadowBlur="4" />
        <TextStyle id="56" font="Lucida Sans Demibold,1,14" color="0,0,0" orientation="0" isBackgroundColored="false" backgroundColor="255,255,255" />
      </ShapeGraphicalRepresentation>
      <ParentShapePatternRole idref="21" />
      <AddressedDiagramModelSlot idref="7" />
      <GRSpec id="57" featureName="label" value="city.render" readOnly="true" />
    </ContainedShapePatternRole>
    <ContainedEditionPatternInstancePatternRole id="58" editionPatternTypeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#City" patternRole="city" name="city">
      <AddressedVirtualModelModelSlot idref="5" />
    </ContainedEditionPatternInstancePatternRole>
    <PrimaryRepresentationShapePatternRole idref="21" />
    <Inspector id="59" inspectorTitle="CityGR" renderer="instance.city.cityInModel1.name" />
  </EditionPattern>
  <EditionPattern id="60" name="MansionGR">
    <DropScheme id="61" target="top" name="dropMansionGRAtTopLevel" label="dropMansionGRAtTopLevel" skipConfirmationPanel="false" definePopupDefaultSize="false" width="800" height="600">
      <AddShape id="62" container="topLevel" extendParentBoundsToHostThisShape="false" assignation="shape">
        <AddressedDiagramModelSlot idref="7" />
      </AddShape>
    </DropScheme>
    <ContainedShapePatternRole id="63" patternRole="shape" name="shape" exampleLabel="Mansion">
      <ShapeGraphicalRepresentation id="64" className="org.openflexo.vpm.view.widget.EditionPatternPreviewShapeGR" x="61.0" y="23.164835164835154" width="69.9009900990099" height="64.83516483516485" minimalWidth="0.0" minimalHeight="0.0" maximalWidth="Infinity" maximalHeight="Infinity" relativeTextX="0.5" relativeTextY="0.5" lineWrap="false" locationConstraints="FREELY_MOVABLE" dimensionConstraints="FREELY_RESIZABLE" adjustMinimalWidthToLabelWidth="true" adjustMinimalHeightToLabelHeight="true" adjustMaximalWidthToLabelWidth="false" adjustMaximalHeightToLabelHeight="false" hasSelectedForeground="false" hasSelectedBackground="false" hasFocusedForeground="false" hasFocusedBackground="false" isFloatingLabel="true" allowToLeaveBounds="false" identifier="object_0" layer="2" hasText="true" isMultilineAllowed="false" continuousTextEditing="true" absoluteTextX="54.0" absoluteTextY="11.0" paragraphAlignment="CENTER" horizontalTextAlignment="CENTER" verticalTextAlignment="MIDDLE" isSelectable="true" isFocusable="true" drawControlPointsWhenFocused="true" drawControlPointsWhenSelected="true" isReadOnly="false" isLabelEditable="true" isVisible="true">
        <ForegroundStyle id="65" noStroke="true" color="0,0,0" lineWidth="1.0" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" dashStyle="PLAIN_STROKE" useTransparency="false" transparencyLevel="0.5" />
        <ImageBackgroundStyle id="66" imageFile="Mansion.png" scaleX="1.4562706270627064" scaleY="1.350732600732601" deltaX="0.0" deltaY="0.0" imageBackgroundType="TRANSPARENT" imageBackgroundColor="255,255,255" fitToShape="true" useTransparency="false" transparencyLevel="0.5" />
        <SelectedForegroundStyle id="67" noStroke="false" color="0,0,0" lineWidth="1.0" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" dashStyle="PLAIN_STROKE" useTransparency="false" transparencyLevel="0.5" />
        <SelectedColorBackgroundStyle id="68" color="254,247,217" useTransparency="false" transparencyLevel="0.5" />
        <FocusedForegroundStyle id="69" noStroke="false" color="0,0,0" lineWidth="1.0" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" dashStyle="PLAIN_STROKE" useTransparency="false" transparencyLevel="0.5" />
        <FocusedColorBackgroundStyle id="70" color="254,247,217" useTransparency="false" transparencyLevel="0.5" />
        <Border id="71" top="20" bottom="20" left="20" right="20" />
        <RectangleShape idref="54" />
        <ShadowStyle id="72" drawShadow="false" shadowDarkness="150" shadowDepth="2" shadowBlur="4" />
        <TextStyle id="73" font="Lucida Sans,0,11" color="0,0,0" orientation="0" isBackgroundColored="false" backgroundColor="255,255,255" />
      </ShapeGraphicalRepresentation>
      <AddressedDiagramModelSlot idref="7" />
      <GRSpec id="74" featureName="label" value="&quot;Shape&quot;" readOnly="true" />
    </ContainedShapePatternRole>
    <PrimaryRepresentationShapePatternRole idref="63" />
    <Inspector id="75" inspectorTitle="MansionGR" />
  </EditionPattern>
  <EditionPattern id="76" name="AppartmentGR">
    <DropScheme id="77" target="top" name="dropAppartmentGRAtTopLevel" label="dropAppartmentGRAtTopLevel" skipConfirmationPanel="false" definePopupDefaultSize="false" width="800" height="600">
      <AddShape id="78" container="topLevel" extendParentBoundsToHostThisShape="false" assignation="shape">
        <AddressedDiagramModelSlot idref="7" />
      </AddShape>
    </DropScheme>
    <ContainedShapePatternRole id="79" patternRole="shape" name="shape" exampleLabel="Appartment">
      <ShapeGraphicalRepresentation id="80" className="org.openflexo.vpm.view.widget.EditionPatternPreviewShapeGR" x="54.0" y="19.219780219780205" width="70.8910891089109" height="69.7802197802198" minimalWidth="0.0" minimalHeight="0.0" maximalWidth="Infinity" maximalHeight="Infinity" relativeTextX="0.5" relativeTextY="0.5" lineWrap="false" locationConstraints="FREELY_MOVABLE" dimensionConstraints="FREELY_RESIZABLE" adjustMinimalWidthToLabelWidth="true" adjustMinimalHeightToLabelHeight="true" adjustMaximalWidthToLabelWidth="false" adjustMaximalHeightToLabelHeight="false" hasSelectedForeground="false" hasSelectedBackground="false" hasFocusedForeground="false" hasFocusedBackground="false" isFloatingLabel="true" allowToLeaveBounds="false" identifier="object_0" layer="2" hasText="true" isMultilineAllowed="false" continuousTextEditing="true" absoluteTextX="53.0" absoluteTextY="16.0" paragraphAlignment="CENTER" horizontalTextAlignment="CENTER" verticalTextAlignment="MIDDLE" isSelectable="true" isFocusable="true" drawControlPointsWhenFocused="true" drawControlPointsWhenSelected="true" isReadOnly="false" isLabelEditable="true" isVisible="true">
        <ForegroundStyle id="81" noStroke="true" color="0,0,0" lineWidth="1.0" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" dashStyle="PLAIN_STROKE" useTransparency="false" transparencyLevel="0.5" />
        <ImageBackgroundStyle id="82" imageFile="Apartment.png" scaleX="1.0906321401370909" scaleY="1.0735418427726122" deltaX="0.0" deltaY="0.0" imageBackgroundType="TRANSPARENT" imageBackgroundColor="255,255,255" fitToShape="true" useTransparency="false" transparencyLevel="0.5" />
        <SelectedForegroundStyle id="83" noStroke="false" color="0,0,0" lineWidth="1.0" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" dashStyle="PLAIN_STROKE" useTransparency="false" transparencyLevel="0.5" />
        <SelectedColorBackgroundStyle id="84" color="254,247,217" useTransparency="false" transparencyLevel="0.5" />
        <FocusedForegroundStyle id="85" noStroke="false" color="0,0,0" lineWidth="1.0" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" dashStyle="PLAIN_STROKE" useTransparency="false" transparencyLevel="0.5" />
        <FocusedColorBackgroundStyle id="86" color="254,247,217" useTransparency="false" transparencyLevel="0.5" />
        <Border id="87" top="20" bottom="20" left="20" right="20" />
        <RectangleShape idref="54" />
        <ShadowStyle id="88" drawShadow="false" shadowDarkness="150" shadowDepth="2" shadowBlur="4" />
        <TextStyle id="89" font="Lucida Sans,0,11" color="0,0,0" orientation="0" isBackgroundColored="false" backgroundColor="255,255,255" />
      </ShapeGraphicalRepresentation>
      <AddressedDiagramModelSlot idref="7" />
      <GRSpec id="90" featureName="label" value="&quot;Shape&quot;" readOnly="true" />
    </ContainedShapePatternRole>
    <PrimaryRepresentationShapePatternRole idref="79" />
    <Inspector id="91" inspectorTitle="AppartmentGR" />
  </EditionPattern>
  <LocalizedDictionary id="92" />
  <VirtualModelModelSlot idref="5" />
  <DiagramModelSlot id="93" isRequired="true" isReadOnly="false" metaModelURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityDiagram" name="this" />
  <CreationScheme id="94" name="createNewDiagramWithSuppliedCity" label="creates_new_diagram_focusing_on_a_city" skipConfirmationPanel="false" definePopupDefaultSize="false" width="800" height="600">
    <description>&lt;html&gt;
  &lt;head&gt;
    
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p style="margin-top: 0"&gt;
      Creates a new diagram representing a city to be choosen in the list of 
      existing cities.
    &lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;</description>
    <EditionPatternInstanceParameter id="95" editionPatternTypeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#City" name="cityParameter" label="city" usePaletteLabelAsDefaultValue="false" isRequired="true">
      <AddressedVirtualModelModelSlot idref="5" />
    </EditionPatternInstanceParameter>
    <DeclarePatternRole id="96" object="parameters.cityParameter" name="" assignation="city" />
  </CreationScheme>
  <CreationScheme id="97" name="createNewDiagramRepresentingNewCity" label="anOtherWayToCreateADiagram" skipConfirmationPanel="false" definePopupDefaultSize="false" width="800" height="600">
    <description>&lt;html&gt;
  &lt;head&gt;
    
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p style="margin-top: 0"&gt;
      Creates a new diagram representing a new city.
    &lt;/p&gt;
    &lt;p style="margin-top: 0"&gt;
      The new city will be created in both models.
    &lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;</description>
    <TextFieldParameter id="98" name="newCityName" label="new_city_name" defaultValue="&quot;valeur2&quot;" usePaletteLabelAsDefaultValue="false" isRequired="false" />
    <TextAreaParameter id="99" name="description" label="description" defaultValue="&quot;coucou&quot;" usePaletteLabelAsDefaultValue="false" isRequired="false" />
  </CreationScheme>
  <SynchronizationScheme id="100" name="synchronization" label="synchronization" skipConfirmationPanel="false" definePopupDefaultSize="false" width="800" height="600">
    <MatchEditionPatternInstance id="101" virtualModelInstance="this" creationSchemeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityDiagram#CityGR.createCityGR">
      <MatchingCriteria id="102" patternRoleName="container" />
      <MatchingCriteria id="103" patternRoleName="icon" />
      <MatchingCriteria id="104" patternRoleName="label" />
      <MatchingCriteria id="105" patternRoleName="city" value="city" />
      <CreateEditionPatternInstanceParameter id="106" paramName="cityParameter" value="city" />
    </MatchEditionPatternInstance>
  </SynchronizationScheme>
  <ContainedEditionPatternInstancePatternRole id="107" editionPatternTypeURI="http://www.thalesgroup.com/openflexo/emf/CityMapping/CityMapping#City" patternRole="city" name="city">
    <AddressedVirtualModelModelSlot idref="5" />
  </ContainedEditionPatternInstancePatternRole>
  <Inspector id="108" inspectorTitle="CityDiagram" />
</DiagramSpecification>
